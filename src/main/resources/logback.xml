<?xml version="1.0" encoding="UTF-8"?>
<!--scan: 当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true。
　　　　scanPeriod: 设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。
　　　　debug: 当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。-->
<configuration scan="true" scanPeriod="10 seconds" debug="false">

    <contextName>hdfs-ls-log</contextName>
    <property name="log.path" value="/home/bigdata_offline/work/distcp_manual/jar"/>
    <property name="log.name" value="hdfslog"/>
    <property name="log.pattern" value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"/>

    <!-- console -->
    <appender name="Console" class="ch.qos.logback.core.ConsoleAppender">
        <target>System.error</target>
        <encoder>
            <charset>UTF-8</charset>
            <pattern>%-5level || %date{yyyy-MM-dd HH:mm:ss} || %contextName || [%logger{96}:%line:%thread] || %msg%n</pattern>
        </encoder>
    </appender>

    <!-- file -->
    <appender name="fileLog" class="ch.qos.logback.core.FileAppender">
        <file>${log.path}/${log.name}/file.log</file>
        <append>true</append>
        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <pattern>%m%n</pattern>
        </encoder>
    </appender>

<!--    <appender name="infoLog" class="ch.qos.logback.core.rolling.RollingFileAppender">-->
<!--        <filter class="ch.qos.logback.classic.filter.LevelFilter">-->
<!--            <level>ERROR</level>-->
<!--            <onMatch>DENY</onMatch>-->
<!--            <onMismatch>ACCEPT</onMismatch>-->
<!--        </filter>-->
<!--        <file>${log.path}/${log.name}.info.log</file>-->
<!--        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">-->
<!--            <FileNamePattern>${log.path}/${log.name}.info.%d{yyyy-MM-dd}.%i.log</FileNamePattern>-->
<!--            <maxFileSize>1024MB</maxFileSize>-->
<!--            <maxHistory>10</maxHistory>-->
<!--            <totalSizeCap>10GB</totalSizeCap>-->
<!--        </rollingPolicy>-->
<!--        <encoder>-->
<!--            <charset>UTF-8</charset>-->
<!--            <pattern>%-5level || %date{yyyy-MM-dd HH:mm:ss} || %contextName || [%logger{96}:%line:%thread] || %msg%n</pattern>-->
<!--        </encoder>-->
<!--    </appender>-->

    <root level="INFO">
        <appender-ref ref="Console"/>
        <appender-ref ref="fileLog"/>
    </root>

</configuration>
